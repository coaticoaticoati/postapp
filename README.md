## postapp
X（旧Twitter）のようなSNSアプリで、200文字以内のテキストや画像を投稿することができます。  
主な機能として、フォロー機能、コメント機能、いいね機能、そしてブックマーク機能が実装されています。

## URL
https://ss1.xrea.com/coaticoaticoati95142.s239.xrea.com/postapp/

#### デモアカウント
メールアドレス：a@test  
パスワード：Test1234

## 開発理由
このアプリケーションはXを参考にして制作しました。Xに実装されている機能を自ら再現することで、CRUD処理などの開発の基礎を学ぶことができると考えたからです。  
また、私が長年にわたり、Xを利用していて感じる課題を解決したかったことも開発目的のひとつです。私はX上で気に入った投稿を見つけると、ブックマークボタンを押して、後で読み返せるようにしています。  
しかし、ブックマークした投稿が増えるにつれ、一覧の中から特定の投稿を見つけることが難しくなり、ブックマークした投稿を整理、検索できる機能が欲しいと思うようになりました。  
以上の理由から、Xの基本機能に、フォルダ分け機能を取り入れたアプリケーションを開発をすることにしました。

## アプリケーションのイメージ
![アプリケーションのイメージGIF](https://github.com/coaticoaticoati/postapp/assets/150308090/3bbd03ab-cbf0-4b4f-9d36-58ca2e261057)

## 使用技術
HTML  
CSS  
PHP  
MariaDB

## 機能一覧
新規登録・ログイン機能  
プロフィール編集機能（アイコン、紹介文）  
テキスト・写真投稿機能   
フォロー機能  
コメント投稿機能  
検索機能  
いいね機能  
ブックマーク機能  
ブロック機能

## DB設計

#### ER図
![postapp_erd](https://github.com/coaticoaticoati/postapp/assets/150308090/34105c6c-ac48-4326-abc5-712515a6da02)

#### 各種テーブル

| テーブル名 |    定義    |  
| --- | --------- |
| members | ユーザーの登録情報 |  
| profiles | ユーザーのプロフィール |  
| icons | ユーザーのアイコン |  
| posts | テキストと画像の投稿情報 |  
| replies | コメント情報|  
| likes | 投稿に対するいいね情報 |  
| reply_likes | コメントに対するいいね情報 |  
| follows | フォロー、フォロワー情報 |  
| bookmarks | ブックマーク情報 |  
| categories | ブックマークのフォルダ名 |  
| blocks | ブロック情報 |  


## アプリケーションの特徴
#### ブロック機能
迷惑なユーザーや不快なコメントなどからユーザーを守るために導入しました。  
ブロックすることで、ブロックされたユーザーとのフォロー、フォロワー関係を解消し、そのユーザーの投稿を非表示にします。  
同時に、ブロックされたユーザーは、ブロックしたユーザーの投稿やプロフィールを閲覧できなくなり、コメントのやり取りも制限されます。

#### ブックマーク機能
気に入った投稿を保存し、後で簡単にアクセスできるブックマーク機能を導入しました。  
ブックマークされた投稿は、ユーザーが作成したフォルダで整理できます。  
各フォルダ内では、新しく保存された順に投稿が表示されます。

## 工夫したところ
#### コメントの表示方法
投稿の詳細ページでは、再帰処理を用いて、投稿とそれに属するコメントを階層的に表示しています。  

例  
親投稿  
親投稿に対するコメント(A)  
→コメント(A)に対するコメント(D)  
→→コメント(D)に対するコメント(F)  
親投稿に対するコメント(B)  
→コメント(B)に対するコメント(E)  
親投稿に対するコメント(C)  

これにより、コメントの関係性が分かりやすく示されるため、ユーザーは会話の流れを追いやすくなります。
![コメントのサンプルGIF](https://github.com/coaticoaticoati/postapp/assets/150308090/25c9b9cd-74af-4131-98f6-69e0a7a90a36)

#### 検索機能
検索結果を投稿とユーザーに分類し、それぞれの結果を表示しています。これにより、ユーザーは目的に合わせて情報を見つけやすくなります。

- 投稿の検索結果では、検索ワードを含む投稿や、検索ワードを含むユーザー名を持つユーザーの投稿を表示します。
- ユーザーの検索結果では、ユーザー名に検索ワードが含まれる場合やプロフィールに検索ワードが含まれる場合に、該当するユーザープロフィールを表示します。  

複数の検索ワードにも対応しており、より詳細な検索が可能です。
![検索結果のサンプルGIF](https://github.com/coaticoaticoati/postapp/assets/150308090/2dbb0c0a-7bdc-4905-86b1-116fde4aaabb)

## 苦労したところ
#### 再帰処理の理解
コメントを階層的に表示するために再帰処理を採用しましたが、初めは再帰処理のコードがどのように動作しているかを理解するのに苦労しました。そのため、階層ごとに配列の中身を確認しながら、処理の流れを理解するようにしました。

## 今後実装したい機能
いいねのランキング機能  
下書き機能  
ブックマークの検索機能
